<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.68.3"><meta name=description content="Documentation for Hugo Learn Theme"><link rel=icon href=/farmer/images/farmer-favicon.png type=image/png><title>Web App :: Farmer</title><link href=/farmer/css/nucleus.css?1590829917 rel=stylesheet><link href=/farmer/css/fontawesome-all.min.css?1590829917 rel=stylesheet><link href=/farmer/css/hybrid.css?1590829917 rel=stylesheet><link href=/farmer/css/featherlight.min.css?1590829917 rel=stylesheet><link href=/farmer/css/perfect-scrollbar.min.css?1590829917 rel=stylesheet><link href=/farmer/css/auto-complete.css?1590829917 rel=stylesheet><link href=/farmer/css/atom-one-dark-reasonable.css?1590829917 rel=stylesheet><link href=/farmer/css/theme.css?1590829917 rel=stylesheet><link href=/farmer/css/hugo-theme.css?1590829917 rel=stylesheet><link href=/farmer/css/theme-green.css?1590829917 rel=stylesheet><script src=/farmer/js/jquery-3.3.1.min.js?1590829917></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/farmer/api-overview/resources/web-app/><nav id=sidebar><div id=header-wrapper><div id=header><img src=/farmer/images/logo.png></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/farmer/js/lunr.min.js?1590829917></script><script type=text/javascript src=/farmer/js/auto-complete.js?1590829917></script><script type=text/javascript>var baseurl="https:\/\/compositionalit.github.io\/farmer\/";</script><script type=text/javascript src=/farmer/js/search.js?1590829917></script></div><div class=highlightable><ul class=topics><li data-nav-id=/farmer/about/ title=About class=dd-item><a href=/farmer/about/>About</a></li><li data-nav-id=/farmer/quickstarts/ title=Quickstarts class=dd-item><a href=/farmer/quickstarts/>Quickstarts</a><ul><li data-nav-id=/farmer/quickstarts/quickstart-1/ title="Your first Farmer template" class=dd-item><a href=/farmer/quickstarts/quickstart-1/>Your first Farmer template</a></li><li data-nav-id=/farmer/quickstarts/quickstart-2/ title="Working with multiple resources" class=dd-item><a href=/farmer/quickstarts/quickstart-2/>Working with multiple resources</a></li><li data-nav-id=/farmer/quickstarts/quickstart-3/ title="Deploying to Azure" class=dd-item><a href=/farmer/quickstarts/quickstart-3/>Deploying to Azure</a></li><li data-nav-id=/farmer/quickstarts/template/ title="The Farmer .NET Template" class=dd-item><a href=/farmer/quickstarts/template/>The Farmer .NET Template</a></li></ul></li><li data-nav-id=/farmer/api-overview/ title="API Overview" class="dd-item
parent"><a href=/farmer/api-overview/>API Overview</a><ul><li data-nav-id=/farmer/api-overview/template-generation/ title="Generating templates" class=dd-item><a href=/farmer/api-overview/template-generation/>Generating templates</a></li><li data-nav-id=/farmer/api-overview/resources/ title=Resources class="dd-item
parent"><a href=/farmer/api-overview/resources/>Resources</a><ul><li data-nav-id=/farmer/api-overview/resources/app-insights/ title="App Insights" class=dd-item><a href=/farmer/api-overview/resources/app-insights/>App Insights</a></li><li data-nav-id=/farmer/api-overview/resources/arm/ title="ARM Deployment" class=dd-item><a href=/farmer/api-overview/resources/arm/>ARM Deployment</a></li><li data-nav-id=/farmer/api-overview/resources/container-group/ title="Container Group" class=dd-item><a href=/farmer/api-overview/resources/container-group/>Container Group</a></li><li data-nav-id=/farmer/api-overview/resources/container-registry/ title="Container Registry" class=dd-item><a href=/farmer/api-overview/resources/container-registry/>Container Registry</a></li><li data-nav-id=/farmer/api-overview/resources/cognitive-services/ title="Cognitive Services" class=dd-item><a href=/farmer/api-overview/resources/cognitive-services/>Cognitive Services</a></li><li data-nav-id=/farmer/api-overview/resources/cosmosdb/ title="Cosmos DB" class=dd-item><a href=/farmer/api-overview/resources/cosmosdb/>Cosmos DB</a></li><li data-nav-id=/farmer/api-overview/resources/eventhub/ title="Event Hub" class=dd-item><a href=/farmer/api-overview/resources/eventhub/>Event Hub</a></li><li data-nav-id=/farmer/api-overview/resources/functions/ title=Functions class=dd-item><a href=/farmer/api-overview/resources/functions/>Functions</a></li><li data-nav-id=/farmer/api-overview/resources/iot-hub/ title="IOT Hub" class=dd-item><a href=/farmer/api-overview/resources/iot-hub/>IOT Hub</a></li><li data-nav-id=/farmer/api-overview/resources/keyvault/ title="Key Vault" class=dd-item><a href=/farmer/api-overview/resources/keyvault/>Key Vault</a></li><li data-nav-id=/farmer/api-overview/resources/maps/ title=Maps class=dd-item><a href=/farmer/api-overview/resources/maps/>Maps</a></li><li data-nav-id=/farmer/api-overview/resources/redis/ title="Redis Cache" class=dd-item><a href=/farmer/api-overview/resources/redis/>Redis Cache</a></li><li data-nav-id=/farmer/api-overview/resources/postgresql/ title=PostgreSQL class=dd-item><a href=/farmer/api-overview/resources/postgresql/>PostgreSQL</a></li><li data-nav-id=/farmer/api-overview/resources/search/ title=Search class=dd-item><a href=/farmer/api-overview/resources/search/>Search</a></li><li data-nav-id=/farmer/api-overview/resources/service-bus/ title="Service Bus" class=dd-item><a href=/farmer/api-overview/resources/service-bus/>Service Bus</a></li><li data-nav-id=/farmer/api-overview/resources/sql/ title="SQL Azure" class=dd-item><a href=/farmer/api-overview/resources/sql/>SQL Azure</a></li><li data-nav-id=/farmer/api-overview/resources/storage-account/ title="Storage Account" class=dd-item><a href=/farmer/api-overview/resources/storage-account/>Storage Account</a></li><li data-nav-id=/farmer/api-overview/resources/virtual-machine/ title="Virtual Machine" class=dd-item><a href=/farmer/api-overview/resources/virtual-machine/>Virtual Machine</a></li><li data-nav-id=/farmer/api-overview/resources/web-app/ title="Web App" class="dd-item active"><a href=/farmer/api-overview/resources/web-app/>Web App</a></li></ul></li><li data-nav-id=/farmer/api-overview/parameters/ title="Parameters and Variables" class=dd-item><a href=/farmer/api-overview/parameters/>Parameters and Variables</a></li><li data-nav-id=/farmer/api-overview/expressions/ title="ARM Expressions" class=dd-item><a href=/farmer/api-overview/expressions/>ARM Expressions</a></li></ul></li><li data-nav-id=/farmer/deployment-guidance/ title="Deployment Guidance" class=dd-item><a href=/farmer/deployment-guidance/>Deployment Guidance</a></li><li data-nav-id=/farmer/faq/ title=FAQs class=dd-item><a href=/farmer/faq/>FAQs</a></li><li data-nav-id=/farmer/arm-vs-farmer/ title="Farmer and ARM" class=dd-item><a href=/farmer/arm-vs-farmer/>Farmer and ARM</a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/compositionalit/farmer><i class="fab fa-fw fa-github"></i>GitHub repo</a></li></ul></section><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a>from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/CompositionalIT/farmer/tree/docs/content/api-overview/resources/web-app.md target=blank><i class="fas fa-code-branch"></i><span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/farmer/>Farmer</a> > <a href=/farmer/api-overview/>API Overview</a> > <a href=/farmer/api-overview/resources/>Resources</a> > Web App</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Web App</h1><h4 id=overview>Overview</h4><p>The Web App builder is used to create Azure App Service accounts. It abstracts the Service Plan into the same component, and will also create and configure a linked App Insights resource. If you wish to create a website that connects to an existing service plan, use the <code>link_to_service_plan</code> keyword and provide the resource name of the service plan to connect to.</p><ul><li>Web Site (<code>Microsoft.Web/sites</code>)</li><li>Web Host (<code>Microsoft.Web/serverfarms</code>)</li><li>Application Insights (<code>Microsoft.Insights/components</code>)</li><li>Site Extension (<code>siteextensions</code>)</li></ul><h4 id=web-app-builder-keywords>Web App Builder Keywords</h4><table><thead><tr><th>Applies To</th><th>Keyword</th><th>Purpose</th></tr></thead><tbody><tr><td>Web App</td><td>name</td><td>Sets the name of the web app.</td></tr><tr><td>Web App</td><td>link_to_service_plan</td><td>Instructs Farmer to link this webapp to an existing service plan rather than creating a new one.</td></tr><tr><td>Web App</td><td>app_insights_auto_name</td><td>Sets the name of the automatically-created app insights instance.</td></tr><tr><td>Web App</td><td>app_insights_off</td><td>Removes any automatic app insights creation, configuration and settings for this webapp.</td></tr><tr><td>Web App</td><td>link_to_app_insights</td><td>Instead of creating a new AI instance, configure this webapp to point to another AI instance that you are managing yourself.</td></tr><tr><td>Web App</td><td>run_from_package</td><td>Sets the web app to use &ldquo;run from package&rdquo; deployment capabilities.</td></tr><tr><td>Web App</td><td>website_node_default_version</td><td>Sets the node version of the web app.</td></tr><tr><td>Web App</td><td>setting</td><td>Sets an app setting of the web app in the form &ldquo;key&rdquo; &ldquo;value&rdquo;.</td></tr><tr><td>Web App</td><td>settings</td><td>Sets a list of app setting of the web app as tuples in the form of (&ldquo;key&rdquo;, &ldquo;value&rdquo;).</td></tr><tr><td>Web App</td><td>https_only</td><td>Disables http for this webapp so that only HTTPS is used.</td></tr><tr><td>Web App</td><td>depends_on</td><td>Sets a dependency for the web app.</td></tr><tr><td>Web App</td><td>docker_image</td><td>Sets the docker image to be pulled down from Docker Hub, and the command to execute as a second argument. Automatically sets the OS to Linux.</td></tr><tr><td>Web App</td><td>docker_ci</td><td>Turns on continuous integration of the web app from the Docker source repository using a webhook.</td></tr><tr><td>Web App</td><td>docker_use_azure_registry</td><td>Uses the supplied Azure Container Registry name as the source of the Docker image, instead of Docker Hub. You do not need to specify the full url, but just the name of the registry itself.</td></tr><tr><td>Service Plan</td><td>service_plan_name</td><td>Sets the name of the service plan. If not set, uses the name of the web app postfixed with &ldquo;-plan&rdquo;.</td></tr><tr><td>Service Plan</td><td>always_on</td><td>Sets &ldquo;Always On&rdquo; flag.</td></tr><tr><td>Service Plan</td><td>runtime_stack</td><td>Sets the runtime stack.</td></tr><tr><td>Service Plan</td><td>operating_system</td><td>Sets the operating system. If Linux, App Insights configuration settings will be omitted as they are not supported by Azure App Service.</td></tr><tr><td>Service Plan</td><td>sku</td><td>Sets the sku of the service plan.</td></tr><tr><td>Service Plan</td><td>worker_size</td><td>Sets the size of the service plan worker.</td></tr><tr><td>Service Plan</td><td>number_of_workers</td><td>Sets the number of instances on the service plan.</td></tr></tbody></table><blockquote><p><strong>Farmer also comes with a dedicated Service Plan builder</strong> that contains all of the above keywords that apply to a Service Plan.</p><p>Use this builder if you wish to have an explicit and clear separation between your web app and service plan. Otherwise, it is recommended to use the service plan keywords that exist directly in the web app builder, and let Farmer handle the connections between them.</p></blockquote><h4 id=post-deployment-builder-keywords>Post-deployment Builder Keywords</h4><p>The Web App builder contains special commands that are executed <em>after</em> the ARM deployment is completed.</p><table><thead><tr><th>Keyword</th><th>Purpose</th></tr></thead><tbody><tr><td>zip_deploy</td><td>Supplying a folder or zip file will instruct Farmer to upload the contents directly to the App Service once the ARM deployment is complete.</td></tr></tbody></table><h4 id=configuration-members>Configuration Members</h4><table><thead><tr><th>Member</th><th>Purpose</th></tr></thead><tbody><tr><td>PublishingPassword</td><td>Gets the ARM expression path to the publishing password of this web app.</td></tr><tr><td>ServicePlan</td><td>Gets the Resource Name of the service plan for this web app.</td></tr><tr><td>AppInsights</td><td>Gets the Resource Name of the service plan for the AI resource linked to this web app.</td></tr></tbody></table><h4 id=example>Example</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>open</span> Farmer
<span style=color:#66d9ef>open</span> Farmer.Builders

<span style=color:#66d9ef>let</span> myWebApp <span style=color:#f92672>=</span> webApp <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;myWebApp&#34;</span>
    service_plan_name <span style=color:#e6db74>&#34;myServicePlan&#34;</span>
    setting <span style=color:#e6db74>&#34;myKey&#34;</span> <span style=color:#e6db74>&#34;aValue&#34;</span>
    sku WebApp.B1
    always_on
    app_insights_off
    worker_size Medium
    number_of_workers 3
    run_from_package
<span style=color:#f92672>}</span>
</code></pre></div><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/farmer/api-overview/resources/virtual-machine/ title="Virtual Machine"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/farmer/api-overview/parameters/ title="Parameters and Variables" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/farmer/js/clipboard.min.js?1590829917></script><script src=/farmer/js/perfect-scrollbar.min.js?1590829917></script><script src=/farmer/js/perfect-scrollbar.jquery.min.js?1590829917></script><script src=/farmer/js/jquery.sticky.js?1590829917></script><script src=/farmer/js/featherlight.min.js?1590829917></script><script src=/farmer/js/highlight.pack.js?1590829917></script><script>hljs.initHighlightingOnLoad();</script><script src=/farmer/js/modernizr.custom-3.6.0.js?1590829917></script><script src=/farmer/js/learn.js?1590829917></script><script src=/farmer/js/hugo-learn.js?1590829917></script><link href=/farmer/mermaid/mermaid.css?1590829917 rel=stylesheet><script src=/farmer/mermaid/mermaid.js?1590829917></script><script>mermaid.initialize({startOnLoad:true});</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-105947713-1','auto');ga('send','pageview');</script></body></html>